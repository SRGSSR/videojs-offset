/*! videojs-offset - v0.22 - 2016-11-29*/
!function(a,b){"use strict";b.plugin("offset",function(a){var b=a.start,c=a.end,d=this.constructor,e={buffered:d.prototype.buffered,duration:d.prototype.duration,currentTime:d.prototype.currentTime,ended:d.prototype.ended},f=function(a,b){return a>=b||void 0===a||void 0===b};this.resetOffset_=function(a,b){this.startTime_=a,this.endTime_=b,this.offsetDuration_=void 0!==a&&void 0!==b?b-a:void 0,this.offsetOn_=void 0!==this.offsetDuration_,this.initialSeek_=!1,this.ended_=!1},this.offset=function(a,b){f(a,b)?this.resetOffset_():this.resetOffset_(a,b)},this.buffered=function(){var a=e.buffered.call(this);return this.offsetOn_&&a&&a.length>0?{length:a.length,_buffer:a,_offset:{start:this.startTime_,end:this.endTime_},start:function(a){var b=this._buffer.start(a)-this._offset.start;return 0>b?0:b},end:function(a){var b=this._buffer.end(a)-this._offset.start;return b>this._offset.end?this._offset.end:b}}:a},this.duration=function(a){if(this.offsetOn_&&void 0===a){var b=e.duration.call(this);return b<this.endTime_?b-this.startTime_:this.offsetDuration_}return void 0===a?e.duration.call(this):void e.duration.call(this,a)},this.currentTime=function(a){if(this.offsetOn_){if(void 0===a){var b=e.currentTime.call(this)-this.startTime_;return 0>b?0:b}var c=a+this.startTime_;e.currentTime.call(this,c>this.endTime_?this.endTime_:c)}else{if(void 0===a)return e.currentTime.call(this);e.currentTime.call(this,a)}},this.ended=function(){return this.offsetOn_?this.ended_:e.ended.call(this)},this.on("timeupdate",function(){if(this.offsetOn_){var a=this.currentTime(),b=e.currentTime.call(this);b<this.startTime_&&(this.initialSeek_=!0,this.currentTime(0)),a>=this.offsetDuration_?(this.pause(),this.ended_=!0,this.trigger("ended")):this.ended_=!1}}.bind(this)),this.on("play",function(){!this.initialSeek_&&this.offsetOn_&&(this.initialSeek_=!0,this.currentTime(0))}),this.offset(b,c)})}(window,window.videojs);